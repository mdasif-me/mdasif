{
  "info": {
    "name": "Documentary API",
    "description": "Complete API for managing documentaries, comments, and engagements",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Documentaries",
      "item": [
        {
          "name": "Get All Documentaries",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/documentaries?page=1&limit=10",
              "host": ["{{base_url}}"],
              "path": ["api", "documentaries"],
              "query": [
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                },
                {
                  "key": "category",
                  "value": "Frontend",
                  "disabled": true
                },
                {
                  "key": "search",
                  "value": "react",
                  "disabled": true
                }
              ]
            }
          }
        },
        {
          "name": "Create Documentary",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "x-documentary-secret",
                "value": "{{secret_key}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"badge\": \"Tutorial\",\n  \"title\": \"Getting Started with Next.js 16\",\n  \"content\": \"<h2>Introduction</h2><p>Next.js is a React framework for production.</p><h2>Key Features</h2><ul><li>Server-side rendering</li><li>Static generation</li><li>API routes</li></ul>\",\n  \"thumbnail\": \"https://via.placeholder.com/800x400?text=Next.js+Tutorial\",\n  \"description\": \"Complete guide to Next.js 16 with App Router and latest features\",\n  \"category\": \"Framework\",\n  \"isPublished\": true\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/documentaries",
              "host": ["{{base_url}}"],
              "path": ["api", "documentaries"]
            }
          }
        },
        {
          "name": "Get Single Documentary",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/documentaries/{{doc_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "documentaries", "{{doc_id}}"]
            }
          }
        },
        {
          "name": "Update Documentary",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "x-documentary-secret",
                "value": "{{secret_key}}"
              },
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Getting Started with Next.js 16 - Updated\",\n  \"description\": \"Updated guide with more examples\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/documentaries/{{doc_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "documentaries", "{{doc_id}}"]
            }
          }
        },
        {
          "name": "Delete Documentary",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "x-documentary-secret",
                "value": "{{secret_key}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/documentaries/{{doc_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "documentaries", "{{doc_id}}"]
            }
          }
        }
      ]
    },
    {
      "name": "Comments",
      "item": [
        {
          "name": "Get Comments for Documentary",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/comments?documentaryId={{doc_id}}&page=1&limit=10",
              "host": ["{{base_url}}"],
              "path": ["api", "comments"],
              "query": [
                {
                  "key": "documentaryId",
                  "value": "{{doc_id}}"
                },
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "limit",
                  "value": "10"
                }
              ]
            }
          }
        },
        {
          "name": "Create Comment",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"documentaryId\": \"{{doc_id}}\",\n  \"author\": \"John Developer\",\n  \"email\": \"john@example.com\",\n  \"content\": \"This is a great tutorial! Very comprehensive and well-explained. Can't wait for part 2.\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/comments",
              "host": ["{{base_url}}"],
              "path": ["api", "comments"]
            }
          }
        },
        {
          "name": "Create Comment Reply",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"documentaryId\": \"{{doc_id}}\",\n  \"author\": \"Jane Expert\",\n  \"email\": \"jane@example.com\",\n  \"content\": \"Thanks for the thoughtful comment! We're working on advanced topics next.\",\n  \"parentCommentId\": \"{{comment_id}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/comments",
              "host": ["{{base_url}}"],
              "path": ["api", "comments"]
            }
          }
        },
        {
          "name": "Update Comment",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"content\": \"Updated comment - I found a typo in section 3.\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/comments/{{comment_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "comments", "{{comment_id}}"]
            }
          }
        },
        {
          "name": "Delete Comment",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/comments/{{comment_id}}",
              "host": ["{{base_url}}"],
              "path": ["api", "comments", "{{comment_id}}"]
            }
          }
        }
      ]
    },
    {
      "name": "Engagements (Likes/Dislikes)",
      "item": [
        {
          "name": "Like Documentary",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"targetId\": \"{{doc_id}}\",\n  \"targetType\": \"documentary\",\n  \"engagementType\": \"like\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/engagements",
              "host": ["{{base_url}}"],
              "path": ["api", "engagements"]
            }
          }
        },
        {
          "name": "Dislike Documentary",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"targetId\": \"{{doc_id}}\",\n  \"targetType\": \"documentary\",\n  \"engagementType\": \"dislike\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/engagements",
              "host": ["{{base_url}}"],
              "path": ["api", "engagements"]
            }
          }
        },
        {
          "name": "Like Comment",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"targetId\": \"{{comment_id}}\",\n  \"targetType\": \"comment\",\n  \"engagementType\": \"like\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/engagements",
              "host": ["{{base_url}}"],
              "path": ["api", "engagements"]
            }
          }
        },
        {
          "name": "Get Engagement Stats",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/engagements?targetId={{doc_id}}&targetType=documentary",
              "host": ["{{base_url}}"],
              "path": ["api", "engagements"],
              "query": [
                {
                  "key": "targetId",
                  "value": "{{doc_id}}"
                },
                {
                  "key": "targetType",
                  "value": "documentary"
                }
              ]
            }
          }
        }
      ]
    }
  ]
}
